var N=Object.defineProperty;var B=(t,i,o)=>i in t?N(t,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[i]=o;var x=(t,i,o)=>(B(t,typeof i!="symbol"?i+"":i,o),o);import{r,j as m,u as M,c as k,a as e,T as D,B as v,L as O,b as R,d as F,e as H,f as j,g as U,P as W,G as y,I as $,h as _,i as K,k as z,l as C,m as G,n as q,R as Q,o as I,C as V,p as Z,q as J}from"./vendor-8ad4b7ad.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const X="/simple-whitenoise-for-babies/assets/brown-noise-339a700d.ogg",Y="/simple-whitenoise-for-babies/assets/pink-noise-3b79b0a5.ogg",ee="/simple-whitenoise-for-babies/assets/purple-noise-f88df28b.ogg",te="/simple-whitenoise-for-babies/assets/white-noise-dde19c99.ogg",ne=({enabled:t})=>{const[i,o]=r.useState("00"),[a,n]=r.useState("00"),[s,c]=r.useState("00");function h(d){return`${d<10?"0":""}${d}`}return r.useEffect(()=>{if(t){const d=Date.now(),b=setInterval(()=>{const p=Date.now()-d;o(h(Math.floor(p/1e3%60))),n(h(Math.floor(p/1e3/60%60))),c(h(Math.floor(p/1e3/60/60%24)))},1e3);return()=>clearInterval(b)}else o("00"),n("00"),c("00")},[t]),m("div",{children:[s,":",a,":",i]})},oe=r.createContext({});function T(t){return t?"dark":"light"}const f=Object.freeze({BROWN:"brown",PINK:"pink",PURPLE:"purple",WHITE:"white"}),ie=({children:t})=>{const[i,o]=r.useState(),a=M("(prefers-color-scheme: dark)"),n=r.useMemo(()=>k({palette:{mode:i??T(a),[f.BROWN]:{main:"#A52A2A"},[f.PINK]:{main:"#FFC0CB"},[f.PURPLE]:{main:"#800080"},[f.WHITE]:{main:"#FFFFFF"}}}),[i,a]),s={toggleColorMode(){o(c=>T(c==="light"))}};return e(oe.Provider,{value:s,children:e(D,{theme:n,children:t})})};function A(t){return{get value(){return Object.defineProperty(this,"value",{value:t()}),this.value}}}const P=[{url:X,title:"Brown noise",color:f.BROWN},{url:Y,title:"Pink noise",color:f.PINK},{url:ee,title:"Purple noise",color:f.PURPLE},{url:te,title:"White noise",color:f.WHITE}];function se({title:t}){"mediaSession"in window.navigator&&(window.navigator.mediaSession.metadata=new MediaMetadata({title:t}),window.navigator.mediaSession.playbackState="playing")}function re(){"mediaSession"in window.navigator&&(window.navigator.mediaSession.playbackState="paused")}function ae(){const[t,i]=r.useState(!1),[o,a]=r.useState(null),[n,s]=r.useState(null),[c,h]=r.useState(0),d=r.useMemo(()=>A(()=>new(window.AudioContext??window.webkitAudioContext)),[]);r.useEffect(()=>{Promise.all(P.map(l=>b(l.url))).then(l=>a(l))},[]),r.useEffect(()=>{"mediaSession"in window.navigator&&(window.navigator.mediaSession.setActionHandler("play",()=>S()),window.navigator.mediaSession.setActionHandler("stop",()=>w()),window.navigator.mediaSession.setActionHandler("pause",()=>w()))},[]);async function b(l){const g=await(await fetch(l,{mode:"cors"})).arrayBuffer();return A(()=>d.value.decodeAudioData(g))}async function p(){d.value.state==="suspended"&&d.value.resume(),t?w():await S()}async function S(l=c){const u=d.value.createBufferSource();u.buffer=await o[l].value,u.connect(d.value.destination),u.loop=!0,u.start(),s(u),i(!0),se({title:P[l].title})}function w(){n.stop(),n.disconnect(),s(null),i(!1),re()}async function L(l){l!=c&&(h(l),t&&(w(),await S(l)))}return m(v,{sx:{pb:8},children:[e(O,{children:P.map(({title:l,color:u},g)=>e(R,{disablePadding:!0,children:m(F,{onClick:()=>L(g),selected:c===g,children:[e(H,{children:e(j,{color:u})}),e(U,{primary:l})]})},g))}),e(W,{sx:{position:"fixed",bottom:0,left:0,right:0,p:1},elevation:3,children:m(y,{container:!0,spacing:2,direction:"row",justifyContent:"center",alignItems:"center",children:[e(y,{item:!0,xs:4,textAlign:"center"}),e(y,{item:!0,xs:4,textAlign:"center",children:e($,{size:"large",sx:{background:"#9900ff"},onClick:p,"aria-label":"toggle white noise",children:t?e(_,{}):e(K,{})})}),e(y,{item:!0,xs:4,textAlign:"center",children:e(ne,{enabled:t})})]})})]})}const le=()=>{const t=z();return m(v,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[e(v,{mb:0,children:e(C,{variant:"h4",children:"Ups, page not found"})}),e(v,{mb:2,children:e(C,{variant:"body1",children:"Please, try to find somewhere else"})}),e(G,{variant:"outlined",onClick:()=>{t("/")},children:"Bring me home"})]})},ce=()=>e(q,{basename:"/simple-whitenoise-for-babies/".slice(0,-1),children:m(Q,{children:[e(I,{path:"/",element:e(ae,{})}),e(I,{path:"*",element:e(le,{})})]})}),E="Ups, something went wrong...",de="Please, contact system administrator if you have nothing else to do";class ue extends r.Component{constructor(){super(...arguments);x(this,"state",{error:null,errorInfo:null})}static getDerivedStateFromError(o){return{error:o}}componentDidCatch(o,a){this.setState({error:o,errorInfo:a})}render(){const{error:o,errorInfo:a}=this.state;if(a){const[n,s]={}.NODE_ENV==="development"?[(o==null?void 0:o.toString())??E,a.componentStack]:[E,de];return m(Box,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[e(Box,{mb:0,children:e(Typography,{variant:"h4",children:n})}),e(Box,{mb:2,children:e(Typography,{variant:"body1",children:s})})]})}return this.props.children}}const fe=()=>m(ie,{children:[e(V,{}),e(ue,{children:e(Z,{component:"main",disableGutters:!0,children:e(ce,{})})})]});J(document.getElementById("root")).render(e(r.StrictMode,{children:e(fe,{})}));
