var E=Object.defineProperty;var S=(o,r,n)=>r in o?E(o,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[r]=n;var x=(o,r,n)=>(S(o,typeof r!="symbol"?r+"":r,n),n);import{r as i,j as f,u as D,c as k,a as e,T as M,B as b,L as R,b as F,d as O,e as j,f as H,g as U,P as W,G as y,I as $,h as _,i as K,k as z,l as C,m as G,n as q,R as Q,o as I,C as V,p as Z,q as J}from"./vendor-8ad4b7ad.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerpolicy&&(s.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?s.credentials="include":t.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(t){if(t.ep)return;t.ep=!0;const s=n(t);fetch(t.href,s)}})();const X="/simple-whitenoise-for-babies/assets/brown-noise-339a700d.ogg",Y="/simple-whitenoise-for-babies/assets/pink-noise-3b79b0a5.ogg",ee="/simple-whitenoise-for-babies/assets/purple-noise-f88df28b.ogg",te="/simple-whitenoise-for-babies/assets/white-noise-dde19c99.ogg",oe=({enabled:o})=>{const[r,n]=i.useState("00"),[a,t]=i.useState("00"),[s,l]=i.useState("00");function m(u){return`${u<10?"0":""}${u}`}return i.useEffect(()=>{if(o){const u=Date.now(),v=setInterval(()=>{const p=Date.now()-u;n(m(Math.floor(p/1e3%60))),t(m(Math.floor(p/1e3/60%60))),l(m(Math.floor(p/1e3/60/60%24)))},1e3);return()=>clearInterval(v)}else n("00"),t("00"),l("00")},[o]),f("div",{children:[s,":",a,":",r]})},ne=i.createContext({});function T(o){return o?"dark":"light"}const h=Object.freeze({BROWN:"brown",PINK:"pink",PURPLE:"purple",WHITE:"white"}),re=({children:o})=>{const[r,n]=i.useState(),a=D("(prefers-color-scheme: dark)"),t=i.useMemo(()=>k({palette:{mode:r??T(a),[h.BROWN]:{main:"#A52A2A"},[h.PINK]:{main:"#FFC0CB"},[h.PURPLE]:{main:"#800080"},[h.WHITE]:{main:"#FFFFFF"}}}),[r,a]),s={toggleColorMode(){n(l=>T(l==="light"))}};return e(ne.Provider,{value:s,children:e(M,{theme:t,children:o})})};function L(o){return{get value(){return Object.defineProperty(this,"value",{value:o()}),this.value}}}const N=[{url:X,title:"Brown noise",color:h.BROWN},{url:Y,title:"Pink noise",color:h.PINK},{url:ee,title:"Purple noise",color:h.PURPLE},{url:te,title:"White noise",color:h.WHITE}],se=()=>{const[o,r]=i.useState(!1),[n,a]=i.useState(null),[t,s]=i.useState(null),[l,m]=i.useState(0),u=i.useMemo(()=>L(()=>new(window.AudioContext??window.webkitAudioContext)),[]);i.useEffect(()=>{Promise.all(N.map(c=>v(c.url))).then(c=>a(c))},[]);async function v(c){const g=await(await fetch(c,{mode:"cors"})).arrayBuffer();return L(()=>u.value.decodeAudioData(g))}async function p(){u.value.state==="suspended"&&u.value.resume(),o?P():await w()}async function w(c=l){const d=u.value.createBufferSource();d.buffer=await n[c].value,d.connect(u.value.destination),d.loop=!0,d.start(),s(d),r(!0)}function P(){t.stop(),t.disconnect(),s(null),r(!1)}async function B(c){c!=l&&(m(c),o&&(P(),await w(c)))}return f(b,{sx:{pb:8},children:[e(R,{children:N.map(({title:c,color:d},g)=>e(F,{disablePadding:!0,children:f(O,{onClick:()=>B(g),selected:l===g,children:[e(j,{children:e(H,{color:d})}),e(U,{primary:c})]})},g))}),e(W,{sx:{position:"fixed",bottom:0,left:0,right:0,p:1},elevation:3,children:f(y,{container:!0,spacing:2,direction:"row",justifyContent:"center",alignItems:"center",children:[e(y,{item:!0,xs:4,textAlign:"center"}),e(y,{item:!0,xs:4,textAlign:"center",children:e($,{size:"large",sx:{background:"#9900ff"},onClick:p,"aria-label":"toggle white noise",children:o?e(_,{}):e(K,{})})}),e(y,{item:!0,xs:4,textAlign:"center",children:e(oe,{enabled:o})})]})})]})},ie=()=>{const o=z();return f(b,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[e(b,{mb:0,children:e(C,{variant:"h4",children:"Ups, page not found"})}),e(b,{mb:2,children:e(C,{variant:"body1",children:"Please, try to find somewhere else"})}),e(G,{variant:"outlined",onClick:()=>{o("/")},children:"Bring me home"})]})},ae=()=>e(q,{basename:"/simple-whitenoise-for-babies/".slice(0,-1),children:f(Q,{children:[e(I,{path:"/",element:e(se,{})}),e(I,{path:"*",element:e(ie,{})})]})}),A="Ups, something went wrong...",ce="Please, contact system administrator if you have nothing else to do";class le extends i.Component{constructor(){super(...arguments);x(this,"state",{error:null,errorInfo:null})}static getDerivedStateFromError(n){return{error:n}}componentDidCatch(n,a){this.setState({error:n,errorInfo:a})}render(){const{error:n,errorInfo:a}=this.state;if(a){const[t,s]={}.NODE_ENV==="development"?[(n==null?void 0:n.toString())??A,a.componentStack]:[A,ce];return f(Box,{sx:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[e(Box,{mb:0,children:e(Typography,{variant:"h4",children:t})}),e(Box,{mb:2,children:e(Typography,{variant:"body1",children:s})})]})}return this.props.children}}const ue=()=>f(re,{children:[e(V,{}),e(le,{children:e(Z,{component:"main",disableGutters:!0,children:e(ae,{})})})]});J(document.getElementById("root")).render(e(i.StrictMode,{children:e(ue,{})}));
